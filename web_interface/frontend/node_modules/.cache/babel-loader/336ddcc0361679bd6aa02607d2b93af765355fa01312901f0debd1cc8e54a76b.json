{"ast":null,"code":"import{useState}from'react';import{Container,Box,Typography,TextField,Button,Link,Alert,Paper,Grid,CircularProgress,Avatar}from'@mui/material';import{useFormik}from'formik';import*as yup from'yup';import{PersonAddOutlined}from'@mui/icons-material';import{useAuth}from'../hooks/useAuth';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const validationSchema=yup.object({username:yup.string().min(3,'Username should be at least 3 characters').max(30,'Username should be less than 30 characters').required('Username is required'),email:yup.string().email('Enter a valid email').required('Email is required'),password:yup.string().min(8,'Password should be at least 8 characters').required('Password is required'),confirmPassword:yup.string().oneOf([yup.ref('password')],'Passwords must match').required('Confirm password is required')});const RegisterPage=()=>{const{register,isLoading,error}=useAuth();const[errorMessage,setErrorMessage]=useState(error);const formik=useFormik({initialValues:{username:'',email:'',password:'',confirmPassword:''},validationSchema:validationSchema,onSubmit:async values=>{setErrorMessage(null);try{await register(values.username,values.email,values.password);}catch(error){setErrorMessage(error.message||'Registration failed. Please try again.');}}});return/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"xs\",children:/*#__PURE__*/_jsx(Paper,{elevation:3,sx:{padding:4,marginTop:8},children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(Avatar,{sx:{m:1,bgcolor:'secondary.main'},children:/*#__PURE__*/_jsx(PersonAddOutlined,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Create an Account\"}),(errorMessage||error)&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{width:'100%',mt:2},children:errorMessage||error}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:formik.handleSubmit,noValidate:true,sx:{mt:1,width:'100%'},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"username\",label:\"Username\",name:\"username\",autoComplete:\"username\",autoFocus:true,value:formik.values.username,onChange:formik.handleChange,error:formik.touched.username&&Boolean(formik.errors.username),helperText:formik.touched.username&&formik.errors.username,disabled:isLoading}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",value:formik.values.email,onChange:formik.handleChange,error:formik.touched.email&&Boolean(formik.errors.email),helperText:formik.touched.email&&formik.errors.email,disabled:isLoading}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"new-password\",value:formik.values.password,onChange:formik.handleChange,error:formik.touched.password&&Boolean(formik.errors.password),helperText:formik.touched.password&&formik.errors.password,disabled:isLoading}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"confirmPassword\",label:\"Confirm Password\",type:\"password\",id:\"confirmPassword\",autoComplete:\"new-password\",value:formik.values.confirmPassword,onChange:formik.handleChange,error:formik.touched.confirmPassword&&Boolean(formik.errors.confirmPassword),helperText:formik.touched.confirmPassword&&formik.errors.confirmPassword,disabled:isLoading}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},disabled:isLoading,children:isLoading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):'Sign Up'}),/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:\"center\",children:/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(Link,{href:\"/login\",variant:\"body2\",children:\"Already have an account? Sign in\"})})})]})]})})});};export default RegisterPage;","map":{"version":3,"names":["useState","Container","Box","Typography","TextField","Button","Link","Alert","Paper","Grid","CircularProgress","Avatar","useFormik","yup","PersonAddOutlined","useAuth","jsx","_jsx","jsxs","_jsxs","validationSchema","object","username","string","min","max","required","email","password","confirmPassword","oneOf","ref","RegisterPage","register","isLoading","error","errorMessage","setErrorMessage","formik","initialValues","onSubmit","values","message","component","maxWidth","children","elevation","sx","padding","marginTop","display","flexDirection","alignItems","m","bgcolor","variant","severity","width","mt","handleSubmit","noValidate","margin","fullWidth","id","label","name","autoComplete","autoFocus","value","onChange","handleChange","touched","Boolean","errors","helperText","disabled","type","mb","size","container","justifyContent","href"],"sources":["C:/Users/Josh.DESKTOP-I5ON5NJ/Desktop/Agents/StayUpAgents/web_interface/frontend/src/pages/RegisterPage.tsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { \r\n  Container, Box, Typography, TextField, Button, Link, Alert,\r\n  Paper, Grid, CircularProgress, Avatar\r\n} from '@mui/material';\r\nimport { useFormik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { PersonAddOutlined } from '@mui/icons-material';\r\nimport { useAuth } from '../hooks/useAuth';\r\n\r\nconst validationSchema = yup.object({\r\n  username: yup\r\n    .string()\r\n    .min(3, 'Username should be at least 3 characters')\r\n    .max(30, 'Username should be less than 30 characters')\r\n    .required('Username is required'),\r\n  email: yup\r\n    .string()\r\n    .email('Enter a valid email')\r\n    .required('Email is required'),\r\n  password: yup\r\n    .string()\r\n    .min(8, 'Password should be at least 8 characters')\r\n    .required('Password is required'),\r\n  confirmPassword: yup\r\n    .string()\r\n    .oneOf([yup.ref('password')], 'Passwords must match')\r\n    .required('Confirm password is required'),\r\n});\r\n\r\nconst RegisterPage = () => {\r\n  const { register, isLoading, error } = useAuth();\r\n  const [errorMessage, setErrorMessage] = useState<string | null>(error);\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n    },\r\n    validationSchema: validationSchema,\r\n    onSubmit: async (values) => {\r\n      setErrorMessage(null);\r\n      try {\r\n        await register(values.username, values.email, values.password);\r\n      } catch (error: any) {\r\n        setErrorMessage(error.message || 'Registration failed. Please try again.');\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Paper elevation={3} sx={{ padding: 4, marginTop: 8 }}>\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\r\n            <PersonAddOutlined />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Create an Account\r\n          </Typography>\r\n          {(errorMessage || error) && (\r\n            <Alert severity=\"error\" sx={{ width: '100%', mt: 2 }}>\r\n              {errorMessage || error}\r\n            </Alert>\r\n          )}\r\n          <Box component=\"form\" onSubmit={formik.handleSubmit} noValidate sx={{ mt: 1, width: '100%' }}>\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"username\"\r\n              label=\"Username\"\r\n              name=\"username\"\r\n              autoComplete=\"username\"\r\n              autoFocus\r\n              value={formik.values.username}\r\n              onChange={formik.handleChange}\r\n              error={formik.touched.username && Boolean(formik.errors.username)}\r\n              helperText={formik.touched.username && formik.errors.username}\r\n              disabled={isLoading}\r\n            />\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              value={formik.values.email}\r\n              onChange={formik.handleChange}\r\n              error={formik.touched.email && Boolean(formik.errors.email)}\r\n              helperText={formik.touched.email && formik.errors.email}\r\n              disabled={isLoading}\r\n            />\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"new-password\"\r\n              value={formik.values.password}\r\n              onChange={formik.handleChange}\r\n              error={formik.touched.password && Boolean(formik.errors.password)}\r\n              helperText={formik.touched.password && formik.errors.password}\r\n              disabled={isLoading}\r\n            />\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"confirmPassword\"\r\n              label=\"Confirm Password\"\r\n              type=\"password\"\r\n              id=\"confirmPassword\"\r\n              autoComplete=\"new-password\"\r\n              value={formik.values.confirmPassword}\r\n              onChange={formik.handleChange}\r\n              error={formik.touched.confirmPassword && Boolean(formik.errors.confirmPassword)}\r\n              helperText={formik.touched.confirmPassword && formik.errors.confirmPassword}\r\n              disabled={isLoading}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              sx={{ mt: 3, mb: 2 }}\r\n              disabled={isLoading}\r\n            >\r\n              {isLoading ? <CircularProgress size={24} /> : 'Sign Up'}\r\n            </Button>\r\n            <Grid container justifyContent=\"center\">\r\n              <Grid>\r\n                <Link href=\"/login\" variant=\"body2\">\r\n                  Already have an account? Sign in\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Box>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default RegisterPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}